# ============================================
# MILIN SHOP - Environment Configuration
# ============================================
# Copy this file to .env.local and fill in your values
# IMPORTANT: Never commit .env.local to version control!

# ============================================
# DATABASE CONFIGURATION
# ============================================
DATABASE_URL="postgresql://milinuser:milinpassword@localhost:5432/milinshop"
DATABASE_URL_NON_POOLING="postgresql://milinuser:milinpassword@localhost:5432/milinshop"

# ============================================
# REDIS CACHE & SESSIONS
# ============================================
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""

# ============================================
# AUTHENTICATION & JWT
# ============================================
# Generate secrets: openssl rand -base64 32
JWT_SECRET="your_jwt_secret_here_min_32_chars_change_in_prod"
JWT_ACCESS_EXPIRY="15m"
REFRESH_TOKEN_SECRET="your_refresh_secret_here_min_32_chars_change"
REFRESH_TOKEN_EXPIRY="7d"

# ============================================
# PAYMENT PROCESSING (Stripe)
# ============================================
# Get keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY="sk_test_xxxxx"
STRIPE_PUBLISHABLE_KEY="pk_test_xxxxx"
STRIPE_WEBHOOK_SECRET="whsec_xxxxx"
STRIPE_API_VERSION="2023-10-16"

# ============================================
# EMAIL SERVICE (SendGrid or AWS SES)
# ============================================
# Option 1: SendGrid (Recommended for ease)
SENDGRID_API_KEY="SG.xxxxx"
SENDER_EMAIL="noreply@milinshop.com"
SENDER_NAME="Milin Shop"

# Option 2: AWS SES (commented out)
# AWS_SES_REGION="ap-southeast-1"
# AWS_SES_FROM_EMAIL="noreply@milinshop.com"

# ============================================
# CLOUD STORAGE (AWS S3 or MinIO)
# ============================================
# For AWS S3:
AWS_REGION="ap-southeast-1"
AWS_ACCESS_KEY_ID="AKIA..."
AWS_SECRET_ACCESS_KEY="..."
AWS_S3_BUCKET="milinshop-images"
# AWS_ENDPOINT_URL=  # Leave empty for AWS S3, set for MinIO

# For MinIO (local/dev):
# AWS_ENDPOINT_URL="http://localhost:9000"
# AWS_ACCESS_KEY_ID="minioadmin"
# AWS_SECRET_ACCESS_KEY="minioadmin123"

# ============================================
# APPLICATION URLS
# ============================================
NODE_ENV="development"
API_PORT=4000
FRONTEND_URL="http://localhost:3000"
ADMIN_URL="http://localhost:3000"
STOREFRONT_URL="http://localhost:3001"
NEXT_PUBLIC_API_URL="http://localhost:4000/api"

# ============================================
# CORS CONFIGURATION
# ============================================
CORS_ORIGIN="http://localhost:3000,http://localhost:3001,http://localhost:5000,https://api.milinshop.com"

# ============================================
# BUSINESS CONFIGURATION
# ============================================
BUSINESS_NAME="Milin Shop"
BUSINESS_EMAIL="support@milinshop.com"
BUSINESS_PHONE="+66812345678"
BUSINESS_ADDRESS="Bangkok, Thailand"
TAX_RATE=0.08
CURRENCY="THB"
CURRENCY_SYMBOL="à¸¿"

# ============================================
# RENTAL CONFIGURATION
# ============================================
MIN_RENTAL_DAYS=3
MAX_RENTAL_DAYS=90
LATE_FEE_PER_DAY=500
DAMAGE_CLAIM_THRESHOLD=5000
DEPOSIT_MULTIPLIER=3

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_2FA=false
ENABLE_GUEST_CHECKOUT=true
ENABLE_SUBSCRIPTIONS=false
ENABLE_REFERRALS=true
ENABLE_INSURANCE_OPTION=true

# ============================================
# LOGGING & MONITORING
# ============================================
LOG_LEVEL="debug"
LOG_FORMAT="json"
SENTRY_DSN=""
GOOGLE_ANALYTICS_ID=""

# ============================================
# API RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true

# ============================================
# PAGINATION
# ============================================
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# ============================================
# SESSION CONFIGURATION
# ============================================
SESSION_EXPIRY_HOURS=24
SESSION_REFRESH_INTERVAL_MINUTES=60
SESSION_SECURE_COOKIE=true
SESSION_HTTP_ONLY=true

# ============================================
# ADMIN PANEL CONFIGURATION
# ============================================
ADMIN_BRAND_NAME="Milin Shop"
ADMIN_BRAND_COLOR="#ec4899"
ADMIN_LOGO_URL=""
ADMIN_TIMEZONE="Asia/Bangkok"

# ============================================
# DEVELOPMENT ONLY
# ============================================
DEBUG=false
SEED_DATABASE_ON_STARTUP=false
